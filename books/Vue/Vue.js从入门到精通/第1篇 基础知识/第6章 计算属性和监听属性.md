# 第 6 章 计算属性和监听属性

在模板中绑定的表达式只能用于简单的运算。如果运算比较复杂，可以使用Vue.js提供的计算属性，通过计算属性可以处理比较复杂的逻辑。另外，如果需要监测和响应数据的变化，还可以使用Vue.js提供的监听属性。

<img src="https://read-1305214533.cos.ap-guangzhou.myqcloud.com/Figure-P84_10649.jpg" alt="" width="800"/>

## 6.1 计算属性

1. 计算属性简介

    计算属性需要以函数的形式定义在computed选项中，最后返回一个计算结果，该结果可以在插值时进行调用并渲染出来。

2. 计算属性的应用

3. 计算属性的getter和setter

    使用getter读取属性值

    使用setter设置属性值

4. 计算属性的缓存

    将相同的操作定义为一个方法，或者定义为一个计算属性，两种方式的结果完全相同。那么为什么还需要计算属性呢？因为计算属性是基于它们的依赖进行缓存的。当页面重新渲染时，如果依赖的数据未发生改变，使用计算属性获取的值就一直是缓存值。只有依赖的数据发生改变时才会重新获取值。如果使用的是方法，在页面重新渲染时，方法中的函数总会被重新调用。

## 6.2 监听属性

1. 监听属性简介

    监听属性可以定义在watch选项中。监听属性对应的函数可以接收一个或两个参数。如果只有一个参数，则该参数表示监听属性的新值；如果有两个参数，第一个参数表示监听属性的新值，第二个参数表示监听属性的原值。

2. 监听属性的应用
3. 监听对象

    如果要监听的属性值是一个对象，要想监听对象内部值的变化，需要在监听属性的选项参数中设置 `deep` 选项的值为true。

    当监听的数据是一个数组或者对象时，回调函数中的新值和旧值是相等的，因为这两个形参指向的是同一个数据对象。

## 6.3 计算属性和监听属性的比较

一般情况下，更好的做法是使用计算属性而不是命令式的监听属性。

使用计算属性同样可以实现响应数据变化的功能。虽然在大多数情况下使用计算属性会更合适，但是如果在`响应数据变化时执行异步请求`的操作，使用监听属性的方式还是很有用的。
