# 第 1 章　权衡的艺术

## 1.1 命令式和声明式

Vue.js 帮我们封装了过程。因此，我们能够猜到 Vue.js 的内部实现一定是命令式的，而暴露给用户的却更加声明式。

## 1.2 性能与可维护性的权衡

如果我们把直接修改的性能消耗定义为 A，把找出差异的性能消耗定义为 B，那么有：

● 命令式代码的更新性能消耗 = A

● 声明式代码的更新性能消耗 = B + A

## 1.3 虚拟 DOM 的性能到底如何

更新页面时，虚拟 DOM 在 JavaScript 层面的运算要比创建页面时多出一个 Diff 的性能消耗，然而它毕竟也是 JavaScript 层面的运算，所以不会产生数量级的差异。再观察 DOM 层面的运算，可以发现虚拟 DOM 在更新页面时只会更新必要的元素，但 innerHTML 需要全量更新。这时虚拟 DOM 的优势就体现出来了。

## 1.4 运行时和编译时

当设计一个框架的时候，我们有三种选择：纯运行时的、运行时 + 编译时的或纯编译时的。
